!function(){const t=jQuery;function e(t){return t.loading?t.text:"<div class='select2-result-course_title'>"+t.id+" - "+t.title.rendered+"</div>"}function n(t){return t.title.rendered||t.text}function d(d=null){const o=t(".lp-widget_select_course"),s=o.data("rest-url"),i=o.data("post_type")||"lp_course";o.select2({ajax:{method:"GET",url:s+"wp/v2/"+i,dataType:"json",delay:250,data(t){return{search:t.term}},processResults(t,e){return e.page=e.page||1,{results:t}},cache:!0},escapeMarkup(t){return t},minimumInputLength:2,templateResult:e,templateSelection:n})}function o(){t(".widget-content .sortable").sortable({handle:".drag",start(t,e){},update(e,n){const d=[];t(this).children().map((function(){d.push(t(this).find("input").val())})),d.join(",");const o=t(this).closest(".widget-content").find("input.fields-sort");o.val(d),o.trigger("change")},stop(t,e){}})}document.addEventListener("DOMContentLoaded",(function(e){document.querySelector("#widgets-editor")?t(document).on("widget-added",(function(t,e){d(e)})):(t(document).on("learnpress/widgets/select",(function(){d(),o()})),d())})),document.addEventListener("DOMContentLoaded",(function(t){o()})),t(document).on("widget-added widget-updated",(function(t){o()}))}();